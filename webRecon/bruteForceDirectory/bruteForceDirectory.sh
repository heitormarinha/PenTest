#!/bin/bash

#Importing modules
source /home/heitor/Documents/PenTest/modules/bash/bash.sh

#!need be setted.
#Defing the local word list
featuresWebsiteList="nationalSubdomainsNames"#nacional selected

#Loop folders extension.
for featuresWebsite in $(cat $featuresWebsiteList);
do
    #-H host source user agent  -s silent mode, -o output to null, - write %{} variable in CURL module and the last full path domain
    response=$(curl -s -H "User-Agent: $HostUserAgent" -o /dev/null -w "%{http_code}" "$domain/$featuresWebsite/")
    if [  $response == "^2*"  ]
    then
        echo "featuresWebsite found: $featuresWebsite" >> $featuresWebsiteListFound
    fi
done

#Loop with file.extension.
for featuresWebsite in $(cat $featuresWebsiteList);
do
    for extension in $(cat $extensions);
    do
        #-H host source user agent  -s silent mode, -0 output to null, - write %{} variable in CURL module and the last full path domain
        response=$(curl -H "User-Agent: $HostUserAgent" -s -o /dev/null -w "%{http_code}" $domain/$featuresWebsite.$extension)
        if [  $response == "^2*"  ]
        then
            echo "featuresWebsite found: $featuresWebsite" >> $featuresWebsiteListFound
        fi
    done
done

cat $featuresWebsiteListFound | sort -u > $featuresWebsiteListFound