#!/bin/bash

#Importing modules
source /home/heitor/Documents/PenTest/modules/bash/bash.sh

#Step 1, the msfdb service need be started, so the postegreSQL need is running.
sudo systemctl start postgresql

#Step 2, Launching the msfdb service.
msfdb init

#step 3, running the msfconsole.
msfconsole

#TODO: Now the interative mode of msf is openned. Mindset.

#! Pooling the db with hosts using the db_nmap.
#* Using -D decoy with 20 randon IPs to bypass IPS.
#* Using -sV scan versions to get the banners (services can be runnig in other ports).
#* Handling the Operation System version/flavors/release with -O 
#db_nmap -v -D RND:20 -p- -R -T4 -sV --version-intensity 9 --open  -O -Pn 172.16.1.0/8 

#! Looking up for auxiary modules to help exploit the host with enumerte vulnerability.
#show -auxiary

#! Show payloads.
#show -payloads

#! To use one module
#search type:auxiliary/exploit <word>
#use <module>(auto completed with tab).
#The msfconsole will entry in module such as this followinf example.
#*msf6  auxilary(scannner/portscan/tcp) > <run>
#info

#! Enumerating the services  of host(s) 
#msf6 > services

#! Enumerating the hosts of host
#msf6 > hosts

#! To import the output of nmap (need be xml)
#msf6 > db_import <path of file>

#!To search of vulnerability of hosts enumerated.
#msf6 > vulns

#! To add informarion for host enumerated
"#hosts -i <info> <IP>"

heitor19033
3sVHHkWO