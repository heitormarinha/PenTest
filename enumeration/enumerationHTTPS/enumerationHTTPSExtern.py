#!/bin/python
import sys

# Add the directory to sys.pah
sys.path.append('/home/heitor/Documents/PenTest/modules/python/')
import iteration
import python

#Statement of iteration.
requests=["HEAD / HTTP/1.0", "OPTIONS /any HTTP/1.0", "HEAD / HTTP/1.1" "OPTIONS /any HTTP/1.1"]

#Get the domains with HTTP service.
with open(python.enumetationHostsHTTP) as fileObject:
    domains=fileObject.readlines()
    
#Doing the enumeration of all hosts with HTTP open and parsion all iteration requests.    
for domain in domains:
    #eGetting the domain or IP and port respectively.
    target=domain.split(" ")[0]
    port= domain.split(" ")[1].strip()
    EnumHTTP=iteration.Iteration(target, int(port))
    #parsin iteration commands.
    for request in requests:
        EnumHTTP.openConnection()
        EnumHTTP.connectToServer()
        EnumHTTP.sendRequest(request)
        EnumHTTP.closeConnection()

